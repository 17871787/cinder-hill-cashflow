{
  "projectName": "Cash Flow Calendar",
  "branchName": "main",
  "description": "Visual timeline of farm cash flows with critical dates, income sources, and outgoings",
  "context": {
    "business": "Cinder Hill Farm - 300 acre livestock farm",
    "purpose": "Track cash in/out and critical payment dates",
    "stack": "Next.js + Tailwind + Vercel",
    "today": "2026-01-13"
  },
  "data": {
    "criticalDates": [
      { "date": "2026-01-31", "type": "out", "description": "HMRC payment", "amount": 2700, "status": "due" },
      { "date": "2026-02-02", "type": "out", "description": "Rent (half-yearly)", "amount": 20000, "status": "due" },
      { "date": "2026-02-14", "type": "event", "description": "Scab withdrawal ends", "amount": 0, "status": "pending" }
    ],
    "expectedIncome": [
      { "date": "2026-01-20", "type": "in", "description": "24 calves @ £725", "amount": 17400, "status": "pending", "certainty": "high" },
      { "date": "2026-01-25", "type": "in", "description": "41 clean lambs @ £140", "amount": 5740, "status": "pending", "certainty": "high" },
      { "date": "2026-01-31", "type": "in", "description": "VAT refund", "amount": 15000, "status": "pending", "certainty": "medium" },
      { "date": "2026-02-01", "type": "in", "description": "Hannah + Joe salary", "amount": 3100, "status": "pending", "certainty": "high" },
      { "date": "2026-02-28", "type": "in", "description": "Haylage sale (1100 bales)", "amount": 60500, "status": "pending", "certainty": "low" },
      { "date": "2026-02-15", "type": "in", "description": "Quad insurance claim", "amount": 2000, "status": "pending", "certainty": "medium" }
    ],
    "recentTransactions": [
      { "date": "2026-01-07", "type": "in", "description": "29 lambs sold (Bentham)", "amount": 3954, "status": "received" }
    ]
  },
  "userStories": [
    {
      "id": "US-001",
      "title": "Project setup",
      "description": "Initialize Next.js project with Tailwind",
      "priority": 1,
      "passes": true,
      "acceptanceCriteria": [
        "Create Next.js app in cashflow-calendar folder",
        "Install tailwindcss",
        "Configure dark theme",
        "npm run build passes"
      ]
    },
    {
      "id": "US-002",
      "title": "Data file and types",
      "description": "Create JSON data file with cash flow entries",
      "priority": 2,
      "passes": true,
      "dependsOn": ["US-001"],
      "acceptanceCriteria": [
        "Create app/cashflow.json with data from PRD",
        "Define TypeScript interfaces for entries",
        "Include critical dates, expected income, recent transactions"
      ]
    },
    {
      "id": "US-003",
      "title": "Summary cards",
      "description": "Show key totals at top of page",
      "priority": 3,
      "passes": true,
      "dependsOn": ["US-002"],
      "acceptanceCriteria": [
        "Total due out (critical payments)",
        "Total expected in (high certainty only)",
        "Net position",
        "Days until next critical date"
      ]
    },
    {
      "id": "US-004",
      "title": "Timeline view",
      "description": "Visual timeline of cash flows",
      "priority": 4,
      "passes": true,
      "dependsOn": ["US-002"],
      "acceptanceCriteria": [
        "Chronological list of all entries",
        "Color coded: green for in, red for out, yellow for events",
        "Show running balance",
        "Highlight overdue or upcoming items"
      ]
    },
    {
      "id": "US-005",
      "title": "Certainty indicators",
      "description": "Show confidence level for expected income",
      "priority": 5,
      "passes": true,
      "dependsOn": ["US-004"],
      "acceptanceCriteria": [
        "High certainty: solid style",
        "Medium certainty: dashed border",
        "Low certainty: faded/italic",
        "Filter toggle to show only high certainty"
      ]
    },
    {
      "id": "US-006",
      "title": "Deploy to Vercel",
      "description": "Deploy and configure auto-deploy",
      "priority": 6,
      "passes": true,
      "dependsOn": ["US-003", "US-004"],
      "acceptanceCriteria": [
        "Push to GitHub",
        "Deploy to Vercel",
        "Auto-deploy on push",
        "URL documented"
      ]
    }
  ]
}
